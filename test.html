<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ä°ÅŸlem YoÄŸunluÄŸu GrafiÄŸi</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 10px;
        }
        .stats {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            min-width: 150px;
            margin: 10px;
        }
        .stat-value {
            font-size: 28px;
            font-weight: bold;
        }
        .stat-label {
            font-size: 14px;
            opacity: 0.9;
            margin-top: 5px;
        }
        .chart-container {
            position: relative;
            height: 400px;
            margin-top: 30px;
        }
        .controls {
            text-align: center;
            margin-top: 20px;
        }
        button {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            margin: 5px;
            transition: all 0.3s;
        }
        button:hover {
            background: #764ba2;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸ“Š Ä°ÅŸlem YoÄŸunluÄŸu Dashboard</h1>
        
        <div class="stats">
            <div class="stat-card">
                <div class="stat-value">3,458</div>
                <div class="stat-label">Toplam Ä°ÅŸlem</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">14:00</div>
                <div class="stat-label">Pik Saat</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">144</div>
                <div class="stat-label">Ortalama/Saat</div>
            </div>
        </div>

        <div class="chart-container">
            <canvas id="transactionChart"></canvas>
        </div>

        <div class="controls">
            <button onclick="updateData()">ðŸ”„ Verileri Yenile</button>
            <button onclick="changeChartType()">ðŸ“ˆ Grafik TÃ¼rÃ¼nÃ¼ DeÄŸiÅŸtir</button>
        </div>
    </div>

    <script>
        // GerÃ§ekÃ§i dummy data - bir gÃ¼nlÃ¼k iÅŸlem yoÄŸunluÄŸu
        const dummyData = {
            hours: ['00:00', '01:00', '02:00', '03:00', '04:00', '05:00', '06:00', '07:00', 
                    '08:00', '09:00', '10:00', '11:00', '12:00', '13:00', '14:00', '15:00',
                    '16:00', '17:00', '18:00', '19:00', '20:00', '21:00', '22:00', '23:00'],
            data: [45, 32, 28, 23, 31, 48, 89, 142, 198, 234, 256, 245, 267, 289, 312, 298,
                   276, 243, 187, 156, 134, 98, 76, 58]
        };

        let chartType = 'line';
        let chartData = { ...dummyData };

        const ctx = document.getElementById('transactionChart').getContext('2d');
        let chart = new Chart(ctx, {
            type: chartType,
            data: {
                labels: chartData.hours,
                datasets: [{
                    label: 'Ä°ÅŸlem SayÄ±sÄ±',
                    data: chartData.data,
                    backgroundColor: 'rgba(102, 126, 234, 0.2)',
                    borderColor: 'rgba(102, 126, 234, 1)',
                    borderWidth: 3,
                    fill: true,
                    tension: 0.4,
                    pointBackgroundColor: 'rgba(102, 126, 234, 1)',
                    pointBorderColor: '#fff',
                    pointBorderWidth: 2,
                    pointRadius: 5,
                    pointHoverRadius: 7
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: true,
                        position: 'top',
                        labels: {
                            font: {
                                size: 14
                            }
                        }
                    },
                    tooltip: {
                        mode: 'index',
                        intersect: false,
                        backgroundColor: 'rgba(0,0,0,0.8)',
                        padding: 12,
                        cornerRadius: 8,
                        callbacks: {
                            label: function(context) {
                                return 'Ä°ÅŸlem: ' + context.parsed.y.toLocaleString('tr-TR');
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: {
                            color: 'rgba(0,0,0,0.05)'
                        },
                        ticks: {
                            callback: function(value) {
                                return value + ' iÅŸlem';
                            }
                        }
                    },
                    x: {
                        grid: {
                            display: false
                        }
                    }
                },
                animation: {
                    duration: 1500,
                    easing: 'easeInOutQuart'
                }
            }
        });

        function updateStats() {
            const total = chartData.data.reduce((a, b) => a + b, 0);
            const avg = Math.round(total / chartData.data.length);
            const peakIndex = chartData.data.indexOf(Math.max(...chartData.data));
            
            document.querySelectorAll('.stat-value')[0].textContent = total.toLocaleString('tr-TR');
            document.querySelectorAll('.stat-value')[1].textContent = chartData.hours[peakIndex];
            document.querySelectorAll('.stat-value')[2].textContent = avg;
        }

        function generateRandomData() {
            const data = [];
            for (let i = 0; i < 24; i++) {
                let base = 50;
                if (i >= 9 && i <= 18) {
                    base = 200;
                } else if (i >= 19 && i <= 22) {
                    base = 120;
                }
                data.push(Math.floor(Math.random() * base) + base/2);
            }
            return data;
        }

        function updateData() {
            chartData.data = generateRandomData();
            chart.data.datasets[0].data = chartData.data;
            chart.update();
            updateStats();
        }

        function changeChartType() {
            const types = ['line', 'bar', 'radar'];
            const currentIndex = types.indexOf(chartType);
            chartType = types[(currentIndex + 1) % types.length];
            
            chart.destroy();
            chart = new Chart(ctx, {
                type: chartType,
                data: {
                    labels: chartData.hours,
                    datasets: [{
                        label: 'Ä°ÅŸlem SayÄ±sÄ±',
                        data: chartData.data,
                        backgroundColor: chartType === 'line' ? 'rgba(102, 126, 234, 0.2)' : 'rgba(102, 126, 234, 0.6)',
                        borderColor: 'rgba(102, 126, 234, 1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4,
                        pointBackgroundColor: 'rgba(102, 126, 234, 1)',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 2,
                        pointRadius: 5,
                        pointHoverRadius: 7
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: true,
                            position: 'top',
                            labels: {
                                font: {
                                    size: 14
                                }
                            }
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                            backgroundColor: 'rgba(0,0,0,0.8)',
                            padding: 12,
                            cornerRadius: 8,
                            callbacks: {
                                label: function(context) {
                                    return 'Ä°ÅŸlem: ' + context.parsed.y.toLocaleString('tr-TR');
                                }
                            }
                        }
                    },
                    scales: chartType !== 'radar' ? {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(0,0,0,0.05)'
                            },
                            ticks: {
                                callback: function(value) {
                                    return value + ' iÅŸlem';
                                }
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    } : {},
                    animation: {
                        duration: 1500,
                        easing: 'easeInOutQuart'
                    }
                }
            });
        }

        // Ä°lk yÃ¼klemede istatistikleri gÃ¼ncelle
        updateStats();
    </script>
</body>
</html>